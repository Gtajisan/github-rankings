{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/countries.ts"],"sourcesContent":["export interface Country {\n  code: string\n  name: string\n  flag: string\n  cities: string[]\n}\n\nexport const countries: Country[] = [\n  {\n    code: \"US\",\n    name: \"United States\",\n    flag: \"ðŸ‡ºðŸ‡¸\",\n    cities: [\"New York\", \"San Francisco\", \"Los Angeles\", \"Seattle\", \"Austin\", \"Chicago\"],\n  },\n  { code: \"CN\", name: \"China\", flag: \"ðŸ‡¨ðŸ‡³\", cities: [\"Beijing\", \"Shanghai\", \"Shenzhen\", \"Guangzhou\", \"Hangzhou\"] },\n  { code: \"IN\", name: \"India\", flag: \"ðŸ‡®ðŸ‡³\", cities: [\"Bangalore\", \"Mumbai\", \"Delhi\", \"Hyderabad\", \"Chennai\", \"Pune\"] },\n  { code: \"DE\", name: \"Germany\", flag: \"ðŸ‡©ðŸ‡ª\", cities: [\"Berlin\", \"Munich\", \"Hamburg\", \"Frankfurt\", \"Cologne\"] },\n  {\n    code: \"GB\",\n    name: \"United Kingdom\",\n    flag: \"ðŸ‡¬ðŸ‡§\",\n    cities: [\"London\", \"Manchester\", \"Birmingham\", \"Edinburgh\", \"Bristol\"],\n  },\n  { code: \"FR\", name: \"France\", flag: \"ðŸ‡«ðŸ‡·\", cities: [\"Paris\", \"Lyon\", \"Marseille\", \"Toulouse\", \"Nice\"] },\n  { code: \"BR\", name: \"Brazil\", flag: \"ðŸ‡§ðŸ‡·\", cities: [\"SÃ£o Paulo\", \"Rio de Janeiro\", \"BrasÃ­lia\", \"Belo Horizonte\"] },\n  { code: \"CA\", name: \"Canada\", flag: \"ðŸ‡¨ðŸ‡¦\", cities: [\"Toronto\", \"Vancouver\", \"Montreal\", \"Ottawa\", \"Calgary\"] },\n  { code: \"JP\", name: \"Japan\", flag: \"ðŸ‡¯ðŸ‡µ\", cities: [\"Tokyo\", \"Osaka\", \"Kyoto\", \"Yokohama\", \"Nagoya\"] },\n  { code: \"AU\", name: \"Australia\", flag: \"ðŸ‡¦ðŸ‡º\", cities: [\"Sydney\", \"Melbourne\", \"Brisbane\", \"Perth\", \"Adelaide\"] },\n  { code: \"RU\", name: \"Russia\", flag: \"ðŸ‡·ðŸ‡º\", cities: [\"Moscow\", \"Saint Petersburg\", \"Novosibirsk\", \"Kazan\"] },\n  { code: \"KR\", name: \"South Korea\", flag: \"ðŸ‡°ðŸ‡·\", cities: [\"Seoul\", \"Busan\", \"Incheon\", \"Daegu\"] },\n  { code: \"NL\", name: \"Netherlands\", flag: \"ðŸ‡³ðŸ‡±\", cities: [\"Amsterdam\", \"Rotterdam\", \"The Hague\", \"Utrecht\"] },\n  { code: \"ES\", name: \"Spain\", flag: \"ðŸ‡ªðŸ‡¸\", cities: [\"Madrid\", \"Barcelona\", \"Valencia\", \"Seville\"] },\n  { code: \"IT\", name: \"Italy\", flag: \"ðŸ‡®ðŸ‡¹\", cities: [\"Rome\", \"Milan\", \"Naples\", \"Turin\", \"Florence\"] },\n  { code: \"PL\", name: \"Poland\", flag: \"ðŸ‡µðŸ‡±\", cities: [\"Warsaw\", \"KrakÃ³w\", \"WrocÅ‚aw\", \"GdaÅ„sk\"] },\n  { code: \"SE\", name: \"Sweden\", flag: \"ðŸ‡¸ðŸ‡ª\", cities: [\"Stockholm\", \"Gothenburg\", \"MalmÃ¶\", \"Uppsala\"] },\n  { code: \"CH\", name: \"Switzerland\", flag: \"ðŸ‡¨ðŸ‡­\", cities: [\"Zurich\", \"Geneva\", \"Basel\", \"Bern\"] },\n  { code: \"SG\", name: \"Singapore\", flag: \"ðŸ‡¸ðŸ‡¬\", cities: [\"Singapore\"] },\n  { code: \"IL\", name: \"Israel\", flag: \"ðŸ‡®ðŸ‡±\", cities: [\"Tel Aviv\", \"Jerusalem\", \"Haifa\"] },\n  { code: \"UA\", name: \"Ukraine\", flag: \"ðŸ‡ºðŸ‡¦\", cities: [\"Kyiv\", \"Kharkiv\", \"Lviv\", \"Odesa\"] },\n  { code: \"PK\", name: \"Pakistan\", flag: \"ðŸ‡µðŸ‡°\", cities: [\"Karachi\", \"Lahore\", \"Islamabad\", \"Faisalabad\"] },\n  { code: \"ID\", name: \"Indonesia\", flag: \"ðŸ‡®ðŸ‡©\", cities: [\"Jakarta\", \"Surabaya\", \"Bandung\", \"Medan\"] },\n  { code: \"TR\", name: \"Turkey\", flag: \"ðŸ‡¹ðŸ‡·\", cities: [\"Istanbul\", \"Ankara\", \"Izmir\", \"Bursa\"] },\n  { code: \"MX\", name: \"Mexico\", flag: \"ðŸ‡²ðŸ‡½\", cities: [\"Mexico City\", \"Guadalajara\", \"Monterrey\", \"Puebla\"] },\n  { code: \"AR\", name: \"Argentina\", flag: \"ðŸ‡¦ðŸ‡·\", cities: [\"Buenos Aires\", \"CÃ³rdoba\", \"Rosario\", \"Mendoza\"] },\n  { code: \"CO\", name: \"Colombia\", flag: \"ðŸ‡¨ðŸ‡´\", cities: [\"BogotÃ¡\", \"MedellÃ­n\", \"Cali\", \"Barranquilla\"] },\n  { code: \"VN\", name: \"Vietnam\", flag: \"ðŸ‡»ðŸ‡³\", cities: [\"Ho Chi Minh City\", \"Hanoi\", \"Da Nang\"] },\n  { code: \"TH\", name: \"Thailand\", flag: \"ðŸ‡¹ðŸ‡­\", cities: [\"Bangkok\", \"Chiang Mai\", \"Phuket\"] },\n  { code: \"PH\", name: \"Philippines\", flag: \"ðŸ‡µðŸ‡­\", cities: [\"Manila\", \"Cebu\", \"Davao\"] },\n  { code: \"NG\", name: \"Nigeria\", flag: \"ðŸ‡³ðŸ‡¬\", cities: [\"Lagos\", \"Abuja\", \"Port Harcourt\"] },\n  { code: \"EG\", name: \"Egypt\", flag: \"ðŸ‡ªðŸ‡¬\", cities: [\"Cairo\", \"Alexandria\", \"Giza\"] },\n  { code: \"ZA\", name: \"South Africa\", flag: \"ðŸ‡¿ðŸ‡¦\", cities: [\"Johannesburg\", \"Cape Town\", \"Durban\"] },\n  { code: \"KE\", name: \"Kenya\", flag: \"ðŸ‡°ðŸ‡ª\", cities: [\"Nairobi\", \"Mombasa\"] },\n  { code: \"BD\", name: \"Bangladesh\", flag: \"ðŸ‡§ðŸ‡©\", cities: [\"Dhaka\", \"Chittagong\"] },\n  { code: \"MY\", name: \"Malaysia\", flag: \"ðŸ‡²ðŸ‡¾\", cities: [\"Kuala Lumpur\", \"George Town\", \"Johor Bahru\"] },\n  { code: \"CZ\", name: \"Czech Republic\", flag: \"ðŸ‡¨ðŸ‡¿\", cities: [\"Prague\", \"Brno\", \"Ostrava\"] },\n  { code: \"RO\", name: \"Romania\", flag: \"ðŸ‡·ðŸ‡´\", cities: [\"Bucharest\", \"Cluj-Napoca\", \"TimiÈ™oara\"] },\n  { code: \"PT\", name: \"Portugal\", flag: \"ðŸ‡µðŸ‡¹\", cities: [\"Lisbon\", \"Porto\", \"Braga\"] },\n  { code: \"BE\", name: \"Belgium\", flag: \"ðŸ‡§ðŸ‡ª\", cities: [\"Brussels\", \"Antwerp\", \"Ghent\"] },\n  { code: \"AT\", name: \"Austria\", flag: \"ðŸ‡¦ðŸ‡¹\", cities: [\"Vienna\", \"Graz\", \"Linz\"] },\n  { code: \"NO\", name: \"Norway\", flag: \"ðŸ‡³ðŸ‡´\", cities: [\"Oslo\", \"Bergen\", \"Trondheim\"] },\n  { code: \"DK\", name: \"Denmark\", flag: \"ðŸ‡©ðŸ‡°\", cities: [\"Copenhagen\", \"Aarhus\", \"Odense\"] },\n  { code: \"FI\", name: \"Finland\", flag: \"ðŸ‡«ðŸ‡®\", cities: [\"Helsinki\", \"Espoo\", \"Tampere\"] },\n  { code: \"IE\", name: \"Ireland\", flag: \"ðŸ‡®ðŸ‡ª\", cities: [\"Dublin\", \"Cork\", \"Galway\"] },\n  { code: \"NZ\", name: \"New Zealand\", flag: \"ðŸ‡³ðŸ‡¿\", cities: [\"Auckland\", \"Wellington\", \"Christchurch\"] },\n  { code: \"CL\", name: \"Chile\", flag: \"ðŸ‡¨ðŸ‡±\", cities: [\"Santiago\", \"ValparaÃ­so\", \"ConcepciÃ³n\"] },\n  { code: \"PE\", name: \"Peru\", flag: \"ðŸ‡µðŸ‡ª\", cities: [\"Lima\", \"Arequipa\", \"Cusco\"] },\n  { code: \"AE\", name: \"United Arab Emirates\", flag: \"ðŸ‡¦ðŸ‡ª\", cities: [\"Dubai\", \"Abu Dhabi\", \"Sharjah\"] },\n  { code: \"SA\", name: \"Saudi Arabia\", flag: \"ðŸ‡¸ðŸ‡¦\", cities: [\"Riyadh\", \"Jeddah\", \"Dammam\"] },\n]\n\nexport type SortField = \"followers\" | \"public_contributions\" | \"total_contributions\" | \"public_repos\"\n"],"names":[],"mappings":";;;;AAOO,MAAM,YAAuB;IAClC;QACE,MAAM;QACN,MAAM;QACN,MAAM;QACN,QAAQ;YAAC;YAAY;YAAiB;YAAe;YAAW;YAAU;SAAU;IACtF;IACA;QAAE,MAAM;QAAM,MAAM;QAAS,MAAM;QAAQ,QAAQ;YAAC;YAAW;YAAY;YAAY;YAAa;SAAW;IAAC;IAChH;QAAE,MAAM;QAAM,MAAM;QAAS,MAAM;QAAQ,QAAQ;YAAC;YAAa;YAAU;YAAS;YAAa;YAAW;SAAO;IAAC;IACpH;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAU;YAAW;YAAa;SAAU;IAAC;IAC7G;QACE,MAAM;QACN,MAAM;QACN,MAAM;QACN,QAAQ;YAAC;YAAU;YAAc;YAAc;YAAa;SAAU;IACxE;IACA;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAS;YAAQ;YAAa;YAAY;SAAO;IAAC;IACvG;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAa;YAAkB;YAAY;SAAiB;IAAC;IAClH;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAW;YAAa;YAAY;YAAU;SAAU;IAAC;IAC9G;QAAE,MAAM;QAAM,MAAM;QAAS,MAAM;QAAQ,QAAQ;YAAC;YAAS;YAAS;YAAS;YAAY;SAAS;IAAC;IACrG;QAAE,MAAM;QAAM,MAAM;QAAa,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAa;YAAY;YAAS;SAAW;IAAC;IAChH;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAoB;YAAe;SAAQ;IAAC;IAC3G;QAAE,MAAM;QAAM,MAAM;QAAe,MAAM;QAAQ,QAAQ;YAAC;YAAS;YAAS;YAAW;SAAQ;IAAC;IAChG;QAAE,MAAM;QAAM,MAAM;QAAe,MAAM;QAAQ,QAAQ;YAAC;YAAa;YAAa;YAAa;SAAU;IAAC;IAC5G;QAAE,MAAM;QAAM,MAAM;QAAS,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAa;YAAY;SAAU;IAAC;IAClG;QAAE,MAAM;QAAM,MAAM;QAAS,MAAM;QAAQ,QAAQ;YAAC;YAAQ;YAAS;YAAU;YAAS;SAAW;IAAC;IACpG;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAU;YAAW;SAAS;IAAC;IAC9F;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAa;YAAc;YAAS;SAAU;IAAC;IACpG;QAAE,MAAM;QAAM,MAAM;QAAe,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAU;YAAS;SAAO;IAAC;IAC/F;QAAE,MAAM;QAAM,MAAM;QAAa,MAAM;QAAQ,QAAQ;YAAC;SAAY;IAAC;IACrE;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAY;YAAa;SAAQ;IAAC;IACvF;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAQ;YAAW;YAAQ;SAAQ;IAAC;IAC1F;QAAE,MAAM;QAAM,MAAM;QAAY,MAAM;QAAQ,QAAQ;YAAC;YAAW;YAAU;YAAa;SAAa;IAAC;IACvG;QAAE,MAAM;QAAM,MAAM;QAAa,MAAM;QAAQ,QAAQ;YAAC;YAAW;YAAY;YAAW;SAAQ;IAAC;IACnG;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAY;YAAU;YAAS;SAAQ;IAAC;IAC7F;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAe;YAAe;YAAa;SAAS;IAAC;IAC1G;QAAE,MAAM;QAAM,MAAM;QAAa,MAAM;QAAQ,QAAQ;YAAC;YAAgB;YAAW;YAAW;SAAU;IAAC;IACzG;QAAE,MAAM;QAAM,MAAM;QAAY,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAY;YAAQ;SAAe;IAAC;IACrG;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAoB;YAAS;SAAU;IAAC;IAC9F;QAAE,MAAM;QAAM,MAAM;QAAY,MAAM;QAAQ,QAAQ;YAAC;YAAW;YAAc;SAAS;IAAC;IAC1F;QAAE,MAAM;QAAM,MAAM;QAAe,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAQ;SAAQ;IAAC;IACrF;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAS;YAAS;SAAgB;IAAC;IACzF;QAAE,MAAM;QAAM,MAAM;QAAS,MAAM;QAAQ,QAAQ;YAAC;YAAS;YAAc;SAAO;IAAC;IACnF;QAAE,MAAM;QAAM,MAAM;QAAgB,MAAM;QAAQ,QAAQ;YAAC;YAAgB;YAAa;SAAS;IAAC;IAClG;QAAE,MAAM;QAAM,MAAM;QAAS,MAAM;QAAQ,QAAQ;YAAC;YAAW;SAAU;IAAC;IAC1E;QAAE,MAAM;QAAM,MAAM;QAAc,MAAM;QAAQ,QAAQ;YAAC;YAAS;SAAa;IAAC;IAChF;QAAE,MAAM;QAAM,MAAM;QAAY,MAAM;QAAQ,QAAQ;YAAC;YAAgB;YAAe;SAAc;IAAC;IACrG;QAAE,MAAM;QAAM,MAAM;QAAkB,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAQ;SAAU;IAAC;IAC1F;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAa;YAAe;SAAY;IAAC;IAC/F;QAAE,MAAM;QAAM,MAAM;QAAY,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAS;SAAQ;IAAC;IACnF;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAY;YAAW;SAAQ;IAAC;IACtF;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAQ;SAAO;IAAC;IAChF;QAAE,MAAM;QAAM,MAAM;QAAU,MAAM;QAAQ,QAAQ;YAAC;YAAQ;YAAU;SAAY;IAAC;IACpF;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAc;YAAU;SAAS;IAAC;IACxF;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAY;YAAS;SAAU;IAAC;IACtF;QAAE,MAAM;QAAM,MAAM;QAAW,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAQ;SAAS;IAAC;IAClF;QAAE,MAAM;QAAM,MAAM;QAAe,MAAM;QAAQ,QAAQ;YAAC;YAAY;YAAc;SAAe;IAAC;IACpG;QAAE,MAAM;QAAM,MAAM;QAAS,MAAM;QAAQ,QAAQ;YAAC;YAAY;YAAc;SAAa;IAAC;IAC5F;QAAE,MAAM;QAAM,MAAM;QAAQ,MAAM;QAAQ,QAAQ;YAAC;YAAQ;YAAY;SAAQ;IAAC;IAChF;QAAE,MAAM;QAAM,MAAM;QAAwB,MAAM;QAAQ,QAAQ;YAAC;YAAS;YAAa;SAAU;IAAC;IACpG;QAAE,MAAM;QAAM,MAAM;QAAgB,MAAM;QAAQ,QAAQ;YAAC;YAAU;YAAU;SAAS;IAAC;CAC1F"}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/github-api.ts"],"sourcesContent":["export interface GitHubUser {\n  login: string\n  id: number\n  avatar_url: string\n  html_url: string\n  name: string | null\n  company: string | null\n  blog: string | null\n  location: string | null\n  bio: string | null\n  twitter_username: string | null\n  public_repos: number\n  public_gists: number\n  followers: number\n  following: number\n  created_at: string\n  public_contributions?: number\n  total_contributions?: number\n}\n\nexport interface SearchUsersResponse {\n  total_count: number\n  incomplete_results: boolean\n  items: GitHubUser[]\n}\n\nconst GITHUB_API_BASE = \"https://api.github.com\"\n\nconst cache = new Map<string, { data: unknown; timestamp: number }>()\nconst CACHE_TTL = 60 * 60 * 1000 // 1 hour\n\nfunction getCached<T>(key: string): T | null {\n  const entry = cache.get(key)\n  if (entry && Date.now() - entry.timestamp < CACHE_TTL) {\n    return entry.data as T\n  }\n  cache.delete(key)\n  return null\n}\n\nfunction setCache(key: string, data: unknown) {\n  cache.set(key, { data, timestamp: Date.now() })\n}\n\nlet rateLimitRemaining = 60\nlet rateLimitReset = 0\n\nfunction updateRateLimitFromHeaders(headers: Headers) {\n  const remaining = headers.get(\"x-ratelimit-remaining\")\n  const reset = headers.get(\"x-ratelimit-reset\")\n  if (remaining) rateLimitRemaining = Number.parseInt(remaining)\n  if (reset) rateLimitReset = Number.parseInt(reset) * 1000\n}\n\nfunction getAuthHeaders(): Record<string, string> {\n  const token = process.env.GITHUB_TOKEN || process.env.NEXT_PUBLIC_GITHUB_TOKEN\n  if (!token) return {}\n  // Prefer the `token` scheme for GitHub v3 API compatibility\n  return { Authorization: `token ${token}` }\n}\n\nexport function isRateLimited(): boolean {\n  return rateLimitRemaining <= 1 && Date.now() < rateLimitReset\n}\n\nexport function getRateLimitInfo() {\n  return {\n    remaining: rateLimitRemaining,\n    resetAt: rateLimitReset ? new Date(rateLimitReset).toISOString() : null,\n    isLimited: isRateLimited(),\n  }\n}\n\nexport async function searchUsersByLocation(location: string, page = 1, perPage = 30): Promise<SearchUsersResponse> {\n  const cacheKey = `search:${location}:${page}:${perPage}`\n  const cached = getCached<SearchUsersResponse>(cacheKey)\n  if (cached) return cached\n\n  if (isRateLimited()) {\n    throw new Error(\"RATE_LIMITED\")\n  }\n\n  const query = encodeURIComponent(`location:${location} type:user`)\n  const url = `${GITHUB_API_BASE}/search/users?q=${query}&sort=followers&order=desc&page=${page}&per_page=${perPage}`\n\n  const response = await fetch(url, {\n    headers: {\n      Accept: \"application/vnd.github.v3+json\",\n      ...getAuthHeaders(),\n    },\n  })\n\n  updateRateLimitFromHeaders(response.headers)\n\n  if (response.status === 403) {\n    throw new Error(\"RATE_LIMITED\")\n  }\n\n  if (!response.ok) {\n    throw new Error(`GitHub API error: ${response.status}`)\n  }\n\n  const data = await response.json()\n  setCache(cacheKey, data)\n  return data\n}\n\nexport async function getUserDetails(username: string): Promise<GitHubUser> {\n  const cacheKey = `user:${username}`\n  const cached = getCached<GitHubUser>(cacheKey)\n  if (cached) return cached\n\n  if (isRateLimited()) {\n    throw new Error(\"RATE_LIMITED\")\n  }\n\n  const url = `${GITHUB_API_BASE}/users/${username}`\n\n  const response = await fetch(url, {\n    headers: {\n      Accept: \"application/vnd.github.v3+json\",\n      ...getAuthHeaders(),\n    },\n  })\n\n  updateRateLimitFromHeaders(response.headers)\n\n  if (response.status === 403) {\n    throw new Error(\"RATE_LIMITED\")\n  }\n\n  if (!response.ok) {\n    throw new Error(`GitHub API error: ${response.status}`)\n  }\n\n  const data = await response.json()\n  setCache(cacheKey, data)\n  return data\n}\n\nexport async function getMultipleUserDetails(usernames: string[]): Promise<GitHubUser[]> {\n  const results: GitHubUser[] = []\n\n  for (const username of usernames) {\n    try {\n      const user = await getUserDetails(username)\n      results.push(user)\n    } catch (error) {\n      if (error instanceof Error && error.message === \"RATE_LIMITED\") {\n        break // Stop fetching if rate limited\n      }\n    }\n  }\n\n  return results\n}\n\nexport function generateMockContributions(user: GitHubUser): GitHubUser {\n  const baseContributions = Math.floor(user.public_repos * 50 + user.followers * 2)\n  return {\n    ...user,\n    public_contributions: baseContributions + Math.floor(Math.random() * 500),\n    total_contributions: baseContributions + Math.floor(Math.random() * 2000) + 500,\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/badge/%5Busername%5D/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { countries } from \"@/lib/countries\"\nimport { getUserDetails, generateMockContributions } from \"@/lib/github-api\"\n\nconst badgeCache = new Map<string, { svg: string; timestamp: number; user?: any }>()\nconst BADGE_CACHE_TTL = 6 * 60 * 60 * 1000 // 6 hours\n\n// We use the shared `getUserDetails` from `lib/github-api` and then\n// augment the user with generated contribution stats so the badge\n// shows the same fields as the homepage list.\n\nasync function getUserRank(location: string, username: string): Promise<{ rank: number; total: number }> {\n  try {\n    const query = encodeURIComponent(`location:${location} type:user`)\n    const perPage = 100\n\n    const headers: Record<string, string> = { Accept: \"application/vnd.github.v3+json\" }\n    if (process.env.GITHUB_TOKEN) headers.Authorization = `token ${process.env.GITHUB_TOKEN}`\n\n    // Fetch first page to get total_count and check initial results\n    const firstResp = await fetch(\n      `https://api.github.com/search/users?q=${query}&sort=followers&order=desc&page=1&per_page=${perPage}`,\n      { headers, next: { revalidate: 3600 } },\n    )\n\n    if (!firstResp.ok) return { rank: 0, total: 0 }\n\n    const firstData = await firstResp.json()\n    const total = firstData.total_count || 0\n\n    const idx = firstData.items.findIndex((u: any) => u.login.toLowerCase() === username.toLowerCase())\n    if (idx >= 0) return { rank: idx + 1, total }\n\n    // Paginate a few pages if not found on first page (limits to avoid heavy usage)\n    const maxPages = Math.min(5, Math.ceil(Math.min(total, 1000) / perPage))\n    for (let page = 2; page <= maxPages; page++) {\n      try {\n        const resp = await fetch(\n          `https://api.github.com/search/users?q=${query}&sort=followers&order=desc&page=${page}&per_page=${perPage}`,\n          { headers, next: { revalidate: 3600 } },\n        )\n        if (!resp.ok) break\n        const data = await resp.json()\n        const found = data.items.findIndex((u: any) => u.login.toLowerCase() === username.toLowerCase())\n        if (found >= 0) {\n          return { rank: (page - 1) * perPage + found + 1, total }\n        }\n        if (data.items.length < perPage) break\n      } catch {\n        break\n      }\n    }\n\n    return { rank: 0, total }\n  } catch {\n    return { rank: 0, total: 0 }\n  }\n}\n\nfunction detectCountry(location: string | null): { code: string; name: string; flag: string } | null {\n  if (!location) return null\n  const loc = location.toLowerCase()\n\n  for (const country of countries) {\n    if (loc.includes(country.name.toLowerCase())) {\n      return { code: country.code, name: country.name, flag: country.flag }\n    }\n    for (const city of country.cities) {\n      if (loc.includes(city.toLowerCase())) {\n        return { code: country.code, name: country.name, flag: country.flag }\n      }\n    }\n  }\n\n  // Additional heuristic matching for common cases (state names, aliases)\n  const aliases: Record<string, string> = {\n    usa: \"United States\",\n    us: \"United States\",\n    \"u.s.a\": \"United States\",\n    \"u.s.\": \"United States\",\n    uk: \"United Kingdom\",\n    england: \"United Kingdom\",\n    scotland: \"United Kingdom\",\n    britain: \"United Kingdom\",\n    america: \"United States\",\n    \"united states of america\": \"United States\",\n    uae: \"United Arab Emirates\",\n  }\n\n  for (const [token, countryName] of Object.entries(aliases)) {\n    if (loc.includes(token)) {\n      const c = countries.find((c) => c.name === countryName)\n      if (c) return { code: c.code, name: c.name, flag: c.flag }\n    }\n  }\n\n  // Check US state names to map to United States\n  const usStates = [\n    \"alabama\",\n    \"alaska\",\n    \"arizona\",\n    \"arkansas\",\n    \"california\",\n    \"colorado\",\n    \"connecticut\",\n    \"delaware\",\n    \"florida\",\n    \"georgia\",\n    \"hawaii\",\n    \"idaho\",\n    \"illinois\",\n    \"indiana\",\n    \"iowa\",\n    \"kansas\",\n    \"kentucky\",\n    \"louisiana\",\n    \"maine\",\n    \"maryland\",\n    \"massachusetts\",\n    \"michigan\",\n    \"minnesota\",\n    \"mississippi\",\n    \"missouri\",\n    \"montana\",\n    \"nebraska\",\n    \"nevada\",\n    \"new hampshire\",\n    \"new jersey\",\n    \"new mexico\",\n    \"new york\",\n    \"north carolina\",\n    \"north dakota\",\n    \"ohio\",\n    \"oklahoma\",\n    \"oregon\",\n    \"pennsylvania\",\n    \"rhode island\",\n    \"south carolina\",\n    \"south dakota\",\n    \"tennessee\",\n    \"texas\",\n    \"utah\",\n    \"vermont\",\n    \"virginia\",\n    \"washington\",\n    \"west virginia\",\n    \"wisconsin\",\n    \"wyoming\",\n  ]\n\n  for (const state of usStates) {\n    if (loc.includes(state)) {\n      const c = countries.find((c) => c.name === \"United States\")\n      if (c) return { code: c.code, name: c.name, flag: c.flag }\n    }\n  }\n\n  // Also check common two-letter US state abbreviations (e.g. CA, NY, TX)\n  const usStateAbbr = [\n    \"al\",\n    \"ak\",\n    \"az\",\n    \"ar\",\n    \"ca\",\n    \"co\",\n    \"ct\",\n    \"de\",\n    \"fl\",\n    \"ga\",\n    \"hi\",\n    \"id\",\n    \"il\",\n    \"in\",\n    \"ia\",\n    \"ks\",\n    \"ky\",\n    \"la\",\n    \"me\",\n    \"md\",\n    \"ma\",\n    \"mi\",\n    \"mn\",\n    \"ms\",\n    \"mo\",\n    \"mt\",\n    \"ne\",\n    \"nv\",\n    \"nh\",\n    \"nj\",\n    \"nm\",\n    \"ny\",\n    \"nc\",\n    \"nd\",\n    \"oh\",\n    \"ok\",\n    \"or\",\n    \"pa\",\n    \"ri\",\n    \"sc\",\n    \"sd\",\n    \"tn\",\n    \"tx\",\n    \"ut\",\n    \"vt\",\n    \"va\",\n    \"wa\",\n    \"wv\",\n    \"wi\",\n    \"wy\",\n  ]\n\n  const tokens = loc.split(/[^a-zA-Z0-9]+/).map((t) => t.trim())\n  for (const tok of tokens) {\n    if (usStateAbbr.includes(tok)) {\n      const c = countries.find((c) => c.name === \"United States\")\n      if (c) return { code: c.code, name: c.name, flag: c.flag }\n    }\n  }\n\n  return null\n}\n\nfunction getRankStyle(rank: number): { color: string; bgColor: string; icon: string } {\n  if (rank === 1) return { color: \"#FFD700\", bgColor: \"#422006\", icon: \"ðŸ¥‡\" }\n  if (rank === 2) return { color: \"#C0C0C0\", bgColor: \"#1f2937\", icon: \"ðŸ¥ˆ\" }\n  if (rank === 3) return { color: \"#CD7F32\", bgColor: \"#431407\", icon: \"ðŸ¥‰\" }\n  if (rank <= 10) return { color: \"#22c55e\", bgColor: \"#052e16\", icon: \"â­\" }\n  if (rank <= 50) return { color: \"#3b82f6\", bgColor: \"#172554\", icon: \"ðŸ”¥\" }\n  if (rank <= 100) return { color: \"#8b5cf6\", bgColor: \"#2e1065\", icon: \"ðŸ’Ž\" }\n  return { color: \"#6b7280\", bgColor: \"#1f2937\", icon: \"ðŸ‘¨â€ðŸ’»\" }\n}\n\nfunction formatNumber(num: number): string {\n  if (num >= 1000000) return (num / 1000000).toFixed(1) + \"M\"\n  if (num >= 1000) return (num / 1000).toFixed(1) + \"K\"\n  return num.toString()\n}\n\nfunction generateSVG(\n  user: any,\n  country: { code: string; name: string; flag: string } | null,\n  rank: number,\n  total: number,\n  theme: \"dark\" | \"light\" | \"gradient\" | \"midnight\" | \"ocean\" | \"sunset\",\n  avatarDataUrl?: string,\n): string {\n  const { color: rankColor, bgColor: rankBgColor } = getRankStyle(rank)\n  const displayName = user.name || user.login\n\n  const themes = {\n    dark: {\n      bg1: \"#0d1117\",\n      bg2: \"#161b22\",\n      border: \"#30363d\",\n      title: \"#58a6ff\",\n      text: \"#e6edf3\",\n      subtext: \"#8b949e\",\n      accent: \"#238636\",\n      cardBg: \"#21262d\",\n    },\n    light: {\n      bg1: \"#ffffff\",\n      bg2: \"#f6f8fa\",\n      border: \"#d0d7de\",\n      title: \"#0969da\",\n      text: \"#1f2328\",\n      subtext: \"#656d76\",\n      accent: \"#1a7f37\",\n      cardBg: \"#f6f8fa\",\n    },\n    gradient: {\n      bg1: \"#1a1a2e\",\n      bg2: \"#16213e\",\n      border: \"#6366f1\",\n      title: \"#a5b4fc\",\n      text: \"#e0e7ff\",\n      subtext: \"#94a3b8\",\n      accent: \"#818cf8\",\n      cardBg: \"#1e1e3f\",\n    },\n    midnight: {\n      bg1: \"#0f0f1a\",\n      bg2: \"#1a1a2e\",\n      border: \"#2d2d44\",\n      title: \"#c4b5fd\",\n      text: \"#e2e8f0\",\n      subtext: \"#94a3b8\",\n      accent: \"#7c3aed\",\n      cardBg: \"#1e1e30\",\n    },\n    ocean: {\n      bg1: \"#0c1929\",\n      bg2: \"#0f2744\",\n      border: \"#1e4976\",\n      title: \"#38bdf8\",\n      text: \"#e0f2fe\",\n      subtext: \"#7dd3fc\",\n      accent: \"#0ea5e9\",\n      cardBg: \"#0d2847\",\n    },\n    sunset: {\n      bg1: \"#1a0a0a\",\n      bg2: \"#2d1515\",\n      border: \"#7c2d12\",\n      title: \"#fb923c\",\n      text: \"#fff7ed\",\n      subtext: \"#fdba74\",\n      accent: \"#ea580c\",\n      cardBg: \"#2a1010\",\n    },\n  }\n\n  const t = themes[theme]\n  const countryName = country ? country.name : \"Unknown\"\n  const countryFlag = country ? country.flag : \"ðŸŒ\"\n  const rankText = rank > 0 ? `#${rank}` : \"N/A\"\n  const totalText = rank > 0 ? `of ${formatNumber(total)}` : \"\"\n\n  return `\n<svg width=\"495\" height=\"195\" viewBox=\"0 0 495 195\" xmlns=\"http://www.w3.org/2000/svg\">\n  <defs>\n    <linearGradient id=\"bgGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n      <stop offset=\"0%\" style=\"stop-color:${t.bg1}\"/>\n      <stop offset=\"100%\" style=\"stop-color:${t.bg2}\"/>\n    </linearGradient>\n    <linearGradient id=\"rankGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n      <stop offset=\"0%\" style=\"stop-color:${rankColor};stop-opacity:0.8\"/>\n      <stop offset=\"100%\" style=\"stop-color:${rankColor};stop-opacity:0.4\"/>\n    </linearGradient>\n    <linearGradient id=\"shine\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n      <stop offset=\"0%\" style=\"stop-color:white;stop-opacity:0.1\"/>\n      <stop offset=\"50%\" style=\"stop-color:white;stop-opacity:0\"/>\n      <stop offset=\"100%\" style=\"stop-color:white;stop-opacity:0.05\"/>\n    </linearGradient>\n    <filter id=\"shadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n      <feDropShadow dx=\"0\" dy=\"4\" stdDeviation=\"4\" flood-color=\"#000\" flood-opacity=\"0.25\"/>\n    </filter>\n    <clipPath id=\"avatarClip\">\n      <circle cx=\"70\" cy=\"85\" r=\"40\"/>\n    </clipPath>\n  </defs>\n  \n  <!-- Main Card -->\n  <rect x=\"0.5\" y=\"0.5\" width=\"494\" height=\"194\" rx=\"12\" fill=\"url(#bgGradient)\" stroke=\"${t.border}\" stroke-width=\"1\"/>\n  <rect x=\"0.5\" y=\"0.5\" width=\"494\" height=\"194\" rx=\"12\" fill=\"url(#shine)\"/>\n  \n  <!-- Avatar with ring -->\n  <circle cx=\"70\" cy=\"85\" r=\"44\" fill=\"${t.cardBg}\" filter=\"url(#shadow)\"/>\n  <circle cx=\"70\" cy=\"85\" r=\"42\" fill=\"${t.border}\" stroke=\"${rankColor}\" stroke-width=\"2\"/>\n  <image href=\"${avatarDataUrl || user.avatar_url}\" x=\"30\" y=\"45\" width=\"80\" height=\"80\" clip-path=\"url(#avatarClip)\" preserveAspectRatio=\"xMidYMid slice\"/>\n  \n  <!-- User Info -->\n  <text x=\"130\" y=\"50\" fill=\"${t.title}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"20\" font-weight=\"700\">\n    ${displayName.length > 22 ? displayName.slice(0, 22) + \"...\" : displayName}\n  </text>\n  <text x=\"130\" y=\"72\" fill=\"${t.subtext}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"13\">\n    @${user.login}\n  </text>\n  \n  <!-- Country Badge -->\n  <rect x=\"130\" y=\"82\" width=\"${Math.min(countryName.length * 8 + 40, 160)}\" height=\"26\" rx=\"13\" fill=\"${t.cardBg}\" stroke=\"${t.border}\" stroke-width=\"1\"/>\n  <text x=\"145\" y=\"100\" fill=\"${t.text}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"13\">\n    ${countryFlag} ${countryName}\n  </text>\n  \n  <!-- Rank Badge -->\n  <rect x=\"130\" y=\"116\" width=\"110\" height=\"32\" rx=\"8\" fill=\"${rankBgColor}\" stroke=\"${rankColor}\" stroke-width=\"1.5\"/>\n  <text x=\"145\" y=\"138\" fill=\"${rankColor}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"16\" font-weight=\"700\">\n    ${rankText}\n  </text>\n  <text x=\"185\" y=\"138\" fill=\"${t.subtext}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"12\">\n    ${totalText}\n  </text>\n  \n  <!-- Stats Cards -->\n  <g transform=\"translate(320, 35)\">\n    <!-- Followers -->\n    <rect x=\"0\" y=\"0\" width=\"75\" height=\"60\" rx=\"8\" fill=\"${t.cardBg}\" stroke=\"${t.border}\" stroke-width=\"1\"/>\n    <text x=\"37.5\" y=\"25\" fill=\"${t.subtext}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"10\" text-anchor=\"middle\" font-weight=\"500\">FOLLOWERS</text>\n    <text x=\"37.5\" y=\"47\" fill=\"${t.text}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"18\" text-anchor=\"middle\" font-weight=\"700\">${formatNumber(user.followers)}</text>\n    \n    <!-- Repos -->\n    <rect x=\"85\" y=\"0\" width=\"75\" height=\"60\" rx=\"8\" fill=\"${t.cardBg}\" stroke=\"${t.border}\" stroke-width=\"1\"/>\n    <text x=\"122.5\" y=\"25\" fill=\"${t.subtext}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"10\" text-anchor=\"middle\" font-weight=\"500\">REPOS</text>\n    <text x=\"122.5\" y=\"47\" fill=\"${t.text}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"18\" text-anchor=\"middle\" font-weight=\"700\">${formatNumber(user.public_repos)}</text>\n  </g>\n  \n  <!-- Country Rank Label -->\n  <g transform=\"translate(320, 110)\">\n    <rect x=\"0\" y=\"0\" width=\"160\" height=\"45\" rx=\"8\" fill=\"${t.cardBg}\" stroke=\"${t.border}\" stroke-width=\"1\"/>\n    <text x=\"80\" y=\"20\" fill=\"${t.subtext}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"9\" text-anchor=\"middle\" font-weight=\"500\" letter-spacing=\"0.5\">COUNTRY RANK</text>\n    <text x=\"80\" y=\"38\" fill=\"${rankColor}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"14\" text-anchor=\"middle\" font-weight=\"700\">\n      ${rank > 0 ? `Top ${Math.round((rank / total) * 100) || 1}% in ${countryName}` : \"Not Ranked\"}\n    </text>\n  </g>\n  \n  <!-- Footer -->\n  <text x=\"15\" y=\"183\" fill=\"${t.subtext}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif\" font-size=\"10\" opacity=\"0.7\">\n    github-rankings.vercel.app\n  </text>\n  \n  <!-- GitHub Icon -->\n  <g transform=\"translate(455, 165)\">\n    <path d=\"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z\" fill=\"${t.subtext}\" opacity=\"0.5\" transform=\"scale(0.8)\"/>\n  </g>\n</svg>\n  `.trim()\n}\n\nfunction generateErrorSVG(message: string, theme: string): string {\n  const isDark = theme !== \"light\"\n  return `\n<svg width=\"495\" height=\"120\" viewBox=\"0 0 495 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <defs>\n    <linearGradient id=\"errorBg\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n      <stop offset=\"0%\" style=\"stop-color:${isDark ? \"#1a0a0a\" : \"#fef2f2\"}\"/>\n      <stop offset=\"100%\" style=\"stop-color:${isDark ? \"#2d1515\" : \"#fee2e2\"}\"/>\n    </linearGradient>\n  </defs>\n  <rect x=\"0.5\" y=\"0.5\" width=\"494\" height=\"119\" rx=\"12\" fill=\"url(#errorBg)\" stroke=\"${isDark ? \"#7f1d1d\" : \"#fecaca\"}\" stroke-width=\"1\"/>\n  <circle cx=\"50\" cy=\"60\" r=\"24\" fill=\"${isDark ? \"#450a0a\" : \"#fecaca\"}\" stroke=\"${isDark ? \"#dc2626\" : \"#f87171\"}\" stroke-width=\"2\"/>\n  <text x=\"50\" y=\"68\" fill=\"${isDark ? \"#f87171\" : \"#dc2626\"}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, sans-serif\" font-size=\"24\" text-anchor=\"middle\">!</text>\n  <text x=\"90\" y=\"55\" fill=\"${isDark ? \"#fca5a5\" : \"#991b1b\"}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, sans-serif\" font-size=\"16\" font-weight=\"600\">\n    Unable to load badge\n  </text>\n  <text x=\"90\" y=\"78\" fill=\"${isDark ? \"#f87171\" : \"#b91c1c\"}\" font-family=\"-apple-system, BlinkMacSystemFont, Segoe UI, sans-serif\" font-size=\"12\">\n    ${message}\n  </text>\n</svg>\n  `.trim()\n}\n\nexport async function GET(request: NextRequest, { params }: { params: Promise<{ username: string }> }) {\n  const { username } = await params\n  const { searchParams } = new URL(request.url)\n  const theme = (searchParams.get(\"theme\") as \"dark\" | \"light\" | \"gradient\" | \"midnight\" | \"ocean\" | \"sunset\") || \"dark\"\n\n  const cacheKey = `${username.toLowerCase()}:${theme}`\n  const cached = badgeCache.get(cacheKey)\n  if (cached && Date.now() - cached.timestamp < BADGE_CACHE_TTL) {\n    return new NextResponse(cached.svg, {\n      headers: {\n        \"Content-Type\": \"image/svg+xml\",\n        \"Cache-Control\": \"public, max-age=21600, s-maxage=21600, stale-while-revalidate=43200\",\n        \"X-Cache\": \"HIT\",\n      },\n    })\n  }\n\n  let user: any | null = null\n  try {\n    user = await getUserDetails(username)\n  } catch (err: any) {\n    if (err instanceof Error && err.message === \"RATE_LIMITED\") {\n      // Fallback to a lightweight placeholder user so the badge still renders\n      user = {\n        login: username,\n        id: 0,\n        avatar_url: `https://api.dicebear.com/7.x/identicon/svg?seed=${encodeURIComponent(username)}`,\n        html_url: `https://github.com/${username}`,\n        name: username,\n        company: null,\n        blog: \"\",\n        location: null,\n        bio: null,\n        twitter_username: null,\n        public_repos: 0,\n        public_gists: 0,\n        followers: 0,\n        following: 0,\n        created_at: new Date().toISOString(),\n      }\n    } else {\n      const errorSvg = generateErrorSVG(`User \"${username}\" not found or API rate limited. Try again later.`, theme)\n      return new NextResponse(errorSvg, {\n        headers: { \"Content-Type\": \"image/svg+xml\", \"Cache-Control\": \"public, max-age=300\" },\n      })\n    }\n  }\n\n  const country = detectCountry(user.location)\n  let rank = 0\n  let total = 0\n\n  if (country) {\n    const rankData = await getUserRank(country.name, username)\n    rank = rankData.rank\n    total = rankData.total\n  }\n\n  // Add generated contribution stats so the badge matches the homepage data\n  const userWithContrib = generateMockContributions(user as any)\n\n  // Try to fetch the avatar and embed it into the SVG as a data URI so browsers reliably render it\n  let avatarDataUrl: string | undefined = undefined\n  try {\n    const avatarResp = await fetch(user.avatar_url)\n    if (avatarResp.ok) {\n      const contentType = avatarResp.headers.get(\"content-type\") || \"image/png\"\n      const buf = await avatarResp.arrayBuffer()\n      const base64 = Buffer.from(buf).toString(\"base64\")\n      avatarDataUrl = `data:${contentType};base64,${base64}`\n    }\n  } catch (e) {\n    // ignore avatar embedding errors and fall back to remote URL in SVG\n  }\n\n  const svg = generateSVG(userWithContrib, country, rank, total, theme, avatarDataUrl)\n\n  badgeCache.set(cacheKey, { svg, timestamp: Date.now(), user: userWithContrib })\n\n  return new NextResponse(svg, {\n    headers: {\n      \"Content-Type\": \"image/svg+xml\",\n      \"Cache-Control\": \"public, max-age=21600, s-maxage=21600, stale-while-revalidate=43200\",\n      \"X-Cache\": \"MISS\",\n    },\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,aAAa,IAAI;AACvB,MAAM,kBAAkB,IAAI,KAAK,KAAK,KAAK,UAAU;;AAErD,oEAAoE;AACpE,kEAAkE;AAClE,8CAA8C;AAE9C,eAAe,YAAY,QAAgB,EAAE,QAAgB;IAC3D,IAAI;QACF,MAAM,QAAQ,mBAAmB,CAAC,SAAS,EAAE,SAAS,UAAU,CAAC;QACjE,MAAM,UAAU;QAEhB,MAAM,UAAkC;YAAE,QAAQ;QAAiC;QACnF,IAAI,QAAQ,GAAG,CAAC,YAAY,EAAE,QAAQ,aAAa,GAAG,CAAC,MAAM,EAAE,QAAQ,GAAG,CAAC,YAAY,EAAE;QAEzF,gEAAgE;QAChE,MAAM,YAAY,MAAM,MACtB,CAAC,sCAAsC,EAAE,MAAM,2CAA2C,EAAE,SAAS,EACrG;YAAE;YAAS,MAAM;gBAAE,YAAY;YAAK;QAAE;QAGxC,IAAI,CAAC,UAAU,EAAE,EAAE,OAAO;YAAE,MAAM;YAAG,OAAO;QAAE;QAE9C,MAAM,YAAY,MAAM,UAAU,IAAI;QACtC,MAAM,QAAQ,UAAU,WAAW,IAAI;QAEvC,MAAM,MAAM,UAAU,KAAK,CAAC,SAAS,CAAC,CAAC,IAAW,EAAE,KAAK,CAAC,WAAW,OAAO,SAAS,WAAW;QAChG,IAAI,OAAO,GAAG,OAAO;YAAE,MAAM,MAAM;YAAG;QAAM;QAE5C,gFAAgF;QAChF,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK,GAAG,CAAC,OAAO,QAAQ;QAC/D,IAAK,IAAI,OAAO,GAAG,QAAQ,UAAU,OAAQ;YAC3C,IAAI;gBACF,MAAM,OAAO,MAAM,MACjB,CAAC,sCAAsC,EAAE,MAAM,gCAAgC,EAAE,KAAK,UAAU,EAAE,SAAS,EAC3G;oBAAE;oBAAS,MAAM;wBAAE,YAAY;oBAAK;gBAAE;gBAExC,IAAI,CAAC,KAAK,EAAE,EAAE;gBACd,MAAM,OAAO,MAAM,KAAK,IAAI;gBAC5B,MAAM,QAAQ,KAAK,KAAK,CAAC,SAAS,CAAC,CAAC,IAAW,EAAE,KAAK,CAAC,WAAW,OAAO,SAAS,WAAW;gBAC7F,IAAI,SAAS,GAAG;oBACd,OAAO;wBAAE,MAAM,CAAC,OAAO,CAAC,IAAI,UAAU,QAAQ;wBAAG;oBAAM;gBACzD;gBACA,IAAI,KAAK,KAAK,CAAC,MAAM,GAAG,SAAS;YACnC,EAAE,OAAM;gBACN;YACF;QACF;QAEA,OAAO;YAAE,MAAM;YAAG;QAAM;IAC1B,EAAE,OAAM;QACN,OAAO;YAAE,MAAM;YAAG,OAAO;QAAE;IAC7B;AACF;AAEA,SAAS,cAAc,QAAuB;IAC5C,IAAI,CAAC,UAAU,OAAO;IACtB,MAAM,MAAM,SAAS,WAAW;IAEhC,KAAK,MAAM,WAAW,+HAAS,CAAE;QAC/B,IAAI,IAAI,QAAQ,CAAC,QAAQ,IAAI,CAAC,WAAW,KAAK;YAC5C,OAAO;gBAAE,MAAM,QAAQ,IAAI;gBAAE,MAAM,QAAQ,IAAI;gBAAE,MAAM,QAAQ,IAAI;YAAC;QACtE;QACA,KAAK,MAAM,QAAQ,QAAQ,MAAM,CAAE;YACjC,IAAI,IAAI,QAAQ,CAAC,KAAK,WAAW,KAAK;gBACpC,OAAO;oBAAE,MAAM,QAAQ,IAAI;oBAAE,MAAM,QAAQ,IAAI;oBAAE,MAAM,QAAQ,IAAI;gBAAC;YACtE;QACF;IACF;IAEA,wEAAwE;IACxE,MAAM,UAAkC;QACtC,KAAK;QACL,IAAI;QACJ,SAAS;QACT,QAAQ;QACR,IAAI;QACJ,SAAS;QACT,UAAU;QACV,SAAS;QACT,SAAS;QACT,4BAA4B;QAC5B,KAAK;IACP;IAEA,KAAK,MAAM,CAAC,OAAO,YAAY,IAAI,OAAO,OAAO,CAAC,SAAU;QAC1D,IAAI,IAAI,QAAQ,CAAC,QAAQ;YACvB,MAAM,IAAI,+HAAS,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;YAC3C,IAAI,GAAG,OAAO;gBAAE,MAAM,EAAE,IAAI;gBAAE,MAAM,EAAE,IAAI;gBAAE,MAAM,EAAE,IAAI;YAAC;QAC3D;IACF;IAEA,+CAA+C;IAC/C,MAAM,WAAW;QACf;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,KAAK,MAAM,SAAS,SAAU;QAC5B,IAAI,IAAI,QAAQ,CAAC,QAAQ;YACvB,MAAM,IAAI,+HAAS,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;YAC3C,IAAI,GAAG,OAAO;gBAAE,MAAM,EAAE,IAAI;gBAAE,MAAM,EAAE,IAAI;gBAAE,MAAM,EAAE,IAAI;YAAC;QAC3D;IACF;IAEA,wEAAwE;IACxE,MAAM,cAAc;QAClB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,SAAS,IAAI,KAAK,CAAC,iBAAiB,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI;IAC3D,KAAK,MAAM,OAAO,OAAQ;QACxB,IAAI,YAAY,QAAQ,CAAC,MAAM;YAC7B,MAAM,IAAI,+HAAS,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK;YAC3C,IAAI,GAAG,OAAO;gBAAE,MAAM,EAAE,IAAI;gBAAE,MAAM,EAAE,IAAI;gBAAE,MAAM,EAAE,IAAI;YAAC;QAC3D;IACF;IAEA,OAAO;AACT;AAEA,SAAS,aAAa,IAAY;IAChC,IAAI,SAAS,GAAG,OAAO;QAAE,OAAO;QAAW,SAAS;QAAW,MAAM;IAAK;IAC1E,IAAI,SAAS,GAAG,OAAO;QAAE,OAAO;QAAW,SAAS;QAAW,MAAM;IAAK;IAC1E,IAAI,SAAS,GAAG,OAAO;QAAE,OAAO;QAAW,SAAS;QAAW,MAAM;IAAK;IAC1E,IAAI,QAAQ,IAAI,OAAO;QAAE,OAAO;QAAW,SAAS;QAAW,MAAM;IAAI;IACzE,IAAI,QAAQ,IAAI,OAAO;QAAE,OAAO;QAAW,SAAS;QAAW,MAAM;IAAK;IAC1E,IAAI,QAAQ,KAAK,OAAO;QAAE,OAAO;QAAW,SAAS;QAAW,MAAM;IAAK;IAC3E,OAAO;QAAE,OAAO;QAAW,SAAS;QAAW,MAAM;IAAQ;AAC/D;AAEA,SAAS,aAAa,GAAW;IAC/B,IAAI,OAAO,SAAS,OAAO,CAAC,MAAM,OAAO,EAAE,OAAO,CAAC,KAAK;IACxD,IAAI,OAAO,MAAM,OAAO,CAAC,MAAM,IAAI,EAAE,OAAO,CAAC,KAAK;IAClD,OAAO,IAAI,QAAQ;AACrB;AAEA,SAAS,YACP,IAAS,EACT,OAA4D,EAC5D,IAAY,EACZ,KAAa,EACb,KAAsE,EACtE,aAAsB;IAEtB,MAAM,EAAE,OAAO,SAAS,EAAE,SAAS,WAAW,EAAE,GAAG,aAAa;IAChE,MAAM,cAAc,KAAK,IAAI,IAAI,KAAK,KAAK;IAE3C,MAAM,SAAS;QACb,MAAM;YACJ,KAAK;YACL,KAAK;YACL,QAAQ;YACR,OAAO;YACP,MAAM;YACN,SAAS;YACT,QAAQ;YACR,QAAQ;QACV;QACA,OAAO;YACL,KAAK;YACL,KAAK;YACL,QAAQ;YACR,OAAO;YACP,MAAM;YACN,SAAS;YACT,QAAQ;YACR,QAAQ;QACV;QACA,UAAU;YACR,KAAK;YACL,KAAK;YACL,QAAQ;YACR,OAAO;YACP,MAAM;YACN,SAAS;YACT,QAAQ;YACR,QAAQ;QACV;QACA,UAAU;YACR,KAAK;YACL,KAAK;YACL,QAAQ;YACR,OAAO;YACP,MAAM;YACN,SAAS;YACT,QAAQ;YACR,QAAQ;QACV;QACA,OAAO;YACL,KAAK;YACL,KAAK;YACL,QAAQ;YACR,OAAO;YACP,MAAM;YACN,SAAS;YACT,QAAQ;YACR,QAAQ;QACV;QACA,QAAQ;YACN,KAAK;YACL,KAAK;YACL,QAAQ;YACR,OAAO;YACP,MAAM;YACN,SAAS;YACT,QAAQ;YACR,QAAQ;QACV;IACF;IAEA,MAAM,IAAI,MAAM,CAAC,MAAM;IACvB,MAAM,cAAc,UAAU,QAAQ,IAAI,GAAG;IAC7C,MAAM,cAAc,UAAU,QAAQ,IAAI,GAAG;IAC7C,MAAM,WAAW,OAAO,IAAI,CAAC,CAAC,EAAE,MAAM,GAAG;IACzC,MAAM,YAAY,OAAO,IAAI,CAAC,GAAG,EAAE,aAAa,QAAQ,GAAG;IAE3D,OAAO,CAAC;;;;0CAIgC,EAAE,EAAE,GAAG,CAAC;4CACN,EAAE,EAAE,GAAG,CAAC;;;0CAGV,EAAE,UAAU;4CACV,EAAE,UAAU;;;;;;;;;;;;;;;;yFAgBiC,EAAE,EAAE,MAAM,CAAC;;;;uCAI7D,EAAE,EAAE,MAAM,CAAC;uCACX,EAAE,EAAE,MAAM,CAAC,UAAU,EAAE,UAAU;eACzD,EAAE,iBAAiB,KAAK,UAAU,CAAC;;;6BAGrB,EAAE,EAAE,KAAK,CAAC;IACnC,EAAE,YAAY,MAAM,GAAG,KAAK,YAAY,KAAK,CAAC,GAAG,MAAM,QAAQ,YAAY;;6BAElD,EAAE,EAAE,OAAO,CAAC;KACpC,EAAE,KAAK,KAAK,CAAC;;;;8BAIY,EAAE,KAAK,GAAG,CAAC,YAAY,MAAM,GAAG,IAAI,IAAI,KAAK,4BAA4B,EAAE,EAAE,MAAM,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC;8BACzG,EAAE,EAAE,IAAI,CAAC;IACnC,EAAE,YAAY,CAAC,EAAE,YAAY;;;;6DAI4B,EAAE,YAAY,UAAU,EAAE,UAAU;8BACnE,EAAE,UAAU;IACtC,EAAE,SAAS;;8BAEe,EAAE,EAAE,OAAO,CAAC;IACtC,EAAE,UAAU;;;;;;0DAM0C,EAAE,EAAE,MAAM,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC;gCAC1D,EAAE,EAAE,OAAO,CAAC;gCACZ,EAAE,EAAE,IAAI,CAAC,gJAAgJ,EAAE,aAAa,KAAK,SAAS,EAAE;;;2DAG7J,EAAE,EAAE,MAAM,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC;iCAC1D,EAAE,EAAE,OAAO,CAAC;iCACZ,EAAE,EAAE,IAAI,CAAC,gJAAgJ,EAAE,aAAa,KAAK,YAAY,EAAE;;;;;2DAKjK,EAAE,EAAE,MAAM,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC;8BAC7D,EAAE,EAAE,OAAO,CAAC;8BACZ,EAAE,UAAU;MACpC,EAAE,OAAO,IAAI,CAAC,IAAI,EAAE,KAAK,KAAK,CAAC,AAAC,OAAO,QAAS,QAAQ,EAAE,KAAK,EAAE,aAAa,GAAG,aAAa;;;;;6BAKvE,EAAE,EAAE,OAAO,CAAC;;;;;;4qBAMmoB,EAAE,EAAE,OAAO,CAAC;;;EAGtrB,CAAC,CAAC,IAAI;AACR;AAEA,SAAS,iBAAiB,OAAe,EAAE,KAAa;IACtD,MAAM,SAAS,UAAU;IACzB,OAAO,CAAC;;;;0CAIgC,EAAE,SAAS,YAAY,UAAU;4CAC/B,EAAE,SAAS,YAAY,UAAU;;;sFAGS,EAAE,SAAS,YAAY,UAAU;uCAChF,EAAE,SAAS,YAAY,UAAU,UAAU,EAAE,SAAS,YAAY,UAAU;4BACvF,EAAE,SAAS,YAAY,UAAU;4BACjC,EAAE,SAAS,YAAY,UAAU;;;4BAGjC,EAAE,SAAS,YAAY,UAAU;IACzD,EAAE,QAAQ;;;EAGZ,CAAC,CAAC,IAAI;AACR;AAEO,eAAe,IAAI,OAAoB,EAAE,EAAE,MAAM,EAA6C;IACnG,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM;IAC3B,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,QAAQ,AAAC,aAAa,GAAG,CAAC,YAAgF;IAEhH,MAAM,WAAW,GAAG,SAAS,WAAW,GAAG,CAAC,EAAE,OAAO;IACrD,MAAM,SAAS,WAAW,GAAG,CAAC;IAC9B,IAAI,UAAU,KAAK,GAAG,KAAK,OAAO,SAAS,GAAG,iBAAiB;QAC7D,OAAO,IAAI,gJAAY,CAAC,OAAO,GAAG,EAAE;YAClC,SAAS;gBACP,gBAAgB;gBAChB,iBAAiB;gBACjB,WAAW;YACb;QACF;IACF;IAEA,IAAI,OAAmB;IACvB,IAAI;QACF,OAAO,MAAM,IAAA,wIAAc,EAAC;IAC9B,EAAE,OAAO,KAAU;QACjB,IAAI,eAAe,SAAS,IAAI,OAAO,KAAK,gBAAgB;YAC1D,wEAAwE;YACxE,OAAO;gBACL,OAAO;gBACP,IAAI;gBACJ,YAAY,CAAC,gDAAgD,EAAE,mBAAmB,WAAW;gBAC7F,UAAU,CAAC,mBAAmB,EAAE,UAAU;gBAC1C,MAAM;gBACN,SAAS;gBACT,MAAM;gBACN,UAAU;gBACV,KAAK;gBACL,kBAAkB;gBAClB,cAAc;gBACd,cAAc;gBACd,WAAW;gBACX,WAAW;gBACX,YAAY,IAAI,OAAO,WAAW;YACpC;QACF,OAAO;YACL,MAAM,WAAW,iBAAiB,CAAC,MAAM,EAAE,SAAS,iDAAiD,CAAC,EAAE;YACxG,OAAO,IAAI,gJAAY,CAAC,UAAU;gBAChC,SAAS;oBAAE,gBAAgB;oBAAiB,iBAAiB;gBAAsB;YACrF;QACF;IACF;IAEA,MAAM,UAAU,cAAc,KAAK,QAAQ;IAC3C,IAAI,OAAO;IACX,IAAI,QAAQ;IAEZ,IAAI,SAAS;QACX,MAAM,WAAW,MAAM,YAAY,QAAQ,IAAI,EAAE;QACjD,OAAO,SAAS,IAAI;QACpB,QAAQ,SAAS,KAAK;IACxB;IAEA,0EAA0E;IAC1E,MAAM,kBAAkB,IAAA,mJAAyB,EAAC;IAElD,iGAAiG;IACjG,IAAI,gBAAoC;IACxC,IAAI;QACF,MAAM,aAAa,MAAM,MAAM,KAAK,UAAU;QAC9C,IAAI,WAAW,EAAE,EAAE;YACjB,MAAM,cAAc,WAAW,OAAO,CAAC,GAAG,CAAC,mBAAmB;YAC9D,MAAM,MAAM,MAAM,WAAW,WAAW;YACxC,MAAM,SAAS,OAAO,IAAI,CAAC,KAAK,QAAQ,CAAC;YACzC,gBAAgB,CAAC,KAAK,EAAE,YAAY,QAAQ,EAAE,QAAQ;QACxD;IACF,EAAE,OAAO,GAAG;IACV,oEAAoE;IACtE;IAEA,MAAM,MAAM,YAAY,iBAAiB,SAAS,MAAM,OAAO,OAAO;IAEtE,WAAW,GAAG,CAAC,UAAU;QAAE;QAAK,WAAW,KAAK,GAAG;QAAI,MAAM;IAAgB;IAE7E,OAAO,IAAI,gJAAY,CAAC,KAAK;QAC3B,SAAS;YACP,gBAAgB;YAChB,iBAAiB;YACjB,WAAW;QACb;IACF;AACF"}}]
}